[tox]
env_list = py{310,311,312,313,314}
requires = 
    tox>=4
    tox-uv>=1.0

[testenv]
description = Run tests with pytest
package = wheel
wheel_build_env = .pkg
deps =
    pytest
    pytest-cov
commands =
    pytest --cov=src/marc_lint --cov-report=xml --cov-report=term-missing {posargs:tests/}

[testenv:lint]
description = Run linting checks
skip_install = true
deps =
    ruff
commands =
    ruff check src/ tests/

[testenv:format]
description = Format code with ruff
skip_install = true
deps =
    ruff
commands =
    ruff format src/ tests/
    ruff check --fix src/ tests/
